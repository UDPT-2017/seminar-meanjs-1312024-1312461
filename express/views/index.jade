extends ./layouts/master.jade

block contents

    div(class="row")
        - each post in posts
            div(class="post-item col-sm-4")
                a(href="#{ functions.urlPost(post) }")
                    h5(class="col-sm-12") #{post.title}
                    div.picture-crop
                        img(src="/pictures/#{post.picture}" class="col-sm-12 picture")

    h1 #{post.title}
    p.well #{post.teaser}
    div !{post.content}

    div(class="page-header")
        h5 Create a post

    case status
        when "success"
            div(class="alert alert-success")
                p #{message}

        when "error"
            div(class="alert alert-danger")
                p #{message}

    form(class="form form-horizontal" action="" method="POST" enctype="multipart/form-data")
        div(class="form-group")
            label(class="col-sm-2 control-label") Picture
            div(class="col-sm-6")
                input(class="form-control" type="file" name="picture")

        div(class="form-group")
            label(class="col-sm-2 control-label") Title
            div(class="col-sm-6")
                input(class="form-control" type="text" name="title" placeholder="Title")

        div(class="form-group")
            label(class="col-sm-2 control-label") Teaser
            div(class="col-sm-6")
                textarea(class="form-control" name="teaser" placeholder="Teaser")

        div(class="form-group")
            label(class="col-sm-2 control-label") Content
            div(class="col-sm-6")
                textarea(class="form-control content-editor" name="content" placeholder="Content")

        div(class="form-group")
            div(class="col-sm-2 col-sm-offset-2")
                button(type="submit" class="btn btn-sm btn-primary") Update
                
